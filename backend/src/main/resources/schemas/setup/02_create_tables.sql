-- PDB (Pluggable Database) にセッションを切り替える
-- FREEPDB1 は Docker イメージによって自動的に作成されるデフォルトの PDB 名
ALTER SESSION SET CONTAINER = FREEPDB1;

-- カラム名も二重引用符で囲まないことで、Oracleのデフォルトの挙動（大文字で格納）に合わせる
-- ID は NUMBER(10) で定義し、Integer にマッピングされるようにする
CREATE TABLE APPUSER.TODOS (
  ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  TITLE VARCHAR(255) NOT NULL,
  DUE_DATE VARCHAR(255),
  COMPLETED NUMBER(1) NOT NULL
);

CREATE TABLE APPUSER.USERS (
  ID NUMBER(10) GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  USERNAME VARCHAR(255) NOT NULL,
  DISPLAY_NAME VARCHAR(255),
  "PASSWORD" VARCHAR(30),
  "STATUS" VARCHAR(10)
);

-- シーケンス名も二重引用符で囲まないことで、Oracleのデフォルトの挙動（大文字で格納）に合わせる
CREATE SEQUENCE APPUSER.TODOS_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE APPUSER.USERS_SEQ START WITH 1 INCREMENT BY 1;
